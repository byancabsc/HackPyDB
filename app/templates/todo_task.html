{% extends "template.html" %}
{% block body %}

<!-- CABEÇALHO -->
<div id="header">
    <h2>Adicionar Nova Tarefa</h2>
</div>

<!-- FORMULÁRIO DE ADIÇÃO -->
<div class="container" style="margin-bottom: 20px;">
    <form id="taskForm" method="POST" action="/todo_add" style="display: flex; flex-direction: column; gap: 15px; align-items: center;">
        <input type="text" name="titulo" placeholder="Título da tarefa" class="form-field" required>
        
        <select name="status" class="form-field" required>
            <option value="pendente">Pendente</option>
            <option value="concluido">Concluído</option>
        </select>
        
        <div>
            <input type="submit" class="submit-btn" value="Adicionar">
        </div>
        <a href="{{ url_for('todo.buscar') }}" class="link" style="align-self: center;">Pesquisar Tarefa</a>
    </form>
</div>

<!-- SCRIPT DE CONFIRMAÇÃO -->
<script>
  document.getElementById('taskForm').addEventListener('submit', function(event) {
    const confirmAction = confirm("Deseja realmente adicionar esta tarefa?");
    if (!confirmAction) {
      event.preventDefault(); // Cancela o envio
    }
  });
</script>

{% endblock %}
